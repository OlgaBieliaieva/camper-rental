{"version":3,"file":"static/js/701.3dcdec9a.chunk.js","mappings":"6PACA,SAAgB,cAAgB,+BAA+B,YAAc,6BAA6B,eAAiB,gCAAgC,QAAU,yBAAyB,aAAe,8BAA8B,QAAU,0B,aCgBrP,MAAMA,EAAU,CACdC,MAAO,EACPC,YAAa,GAEf,IAAIC,EAAS,CAAC,EAEC,SAASC,IACtB,MAAOC,EAAMC,IAAWC,EAAAA,EAAAA,UAASP,EAAQE,cAClCM,EAAcC,IAAmBC,EAAAA,EAAAA,MAClCC,GAAkBC,EAAAA,EAAAA,IAAYC,EAAAA,IAC9BC,GAAQF,EAAAA,EAAAA,IAAYG,EAAAA,IACpBC,GAAUJ,EAAAA,EAAAA,IAAYK,EAAAA,IACtBC,GAAWC,EAAAA,EAAAA,MAejB,OAbAC,EAAAA,EAAAA,YAAU,KACRjB,EAAS,CAAC,EACV,IAAK,MAAOkB,EAAKC,KAAUd,EAAae,UAC9B,cAARF,EACKlB,EAAOkB,GAAOC,EACfnB,EAAOqB,UACPrB,EAAOqB,UAAUC,KAAKH,GACrBnB,EAAOqB,UAAY,CAACF,GAE3BJ,GAASQ,EAAAA,EAAAA,OACTR,GAASS,EAAAA,EAAAA,GAAO,IAAKxB,IAAU,GAC9B,CAACK,EAAcU,KAGhBU,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAOC,cAAcC,SAAA,EACnCC,EAAAA,EAAAA,KAACC,EAAAA,EAAM,KACPD,EAAAA,EAAAA,KAAA,QAAMJ,UAAWC,EAAOK,YAAYH,UAClCJ,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAOM,eAAeJ,SAAA,EACpCJ,EAAAA,EAAAA,MAAA,WAASC,UAAWC,EAAOO,QAAQL,SAAA,EACjCC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,aACJC,EAAAA,EAAAA,KAACK,EAAAA,EAAO,CACNC,mBAAoB9B,EACpB+B,aAAclC,QAGlB2B,EAAAA,EAAAA,KAAA,WAASJ,UAAWC,EAAOW,aAAaT,SACrChB,IAAYF,GACXmB,EAAAA,EAAAA,KAACS,EAAAA,EAAM,KAEPd,EAAAA,EAAAA,MAAAe,EAAAA,SAAA,CAAAX,SAAA,EACEJ,EAAAA,EAAAA,MAAA,MAAIC,UAAWC,EAAOc,aAAaZ,SAAA,CAChCrB,EAAgBkC,OAAO,4BAE1BjB,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAOgB,QAAQd,SAAA,EAC7BC,EAAAA,EAAAA,KAACc,EAAAA,EAAW,CACVC,QAASrC,EAAgBsC,MACvB5C,EAAOL,EAAQC,MAAQD,EAAQC,MAC/BI,EAAOL,EAAQC,UAGnBgC,EAAAA,EAAAA,KAACiB,EAAAA,EAAU,CACTC,MAAOC,KAAKC,KAAK1C,EAAgBkC,OAAS7C,EAAQC,OAClDqD,YAAajD,EACbmC,aAAclC,mBAUlC,C","sources":["webpack://camper-rental/./src/pages/Catalog/Catalog.module.css?56bd","pages/Catalog/Catalog.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"pageContainer\":\"Catalog_pageContainer__wNK3s\",\"mainContent\":\"Catalog_mainContent__tWcwf\",\"contentWrapper\":\"Catalog_contentWrapper__MB9B9\",\"sideBar\":\"Catalog_sideBar__cS+L-\",\"contentSpace\":\"Catalog_contentSpace__FnxVz\",\"content\":\"Catalog_content__5E5x5\"};","import { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useSearchParams } from \"react-router-dom\";\r\nimport { fetchAllCampers } from \"../../redux/operations\";\r\nimport {\r\n  selectFilteredCampers,\r\n  selectError,\r\n  selectIsLoading,\r\n} from \"../../redux/selectors\";\r\nimport { filter } from \"../../redux/appSlice\";\r\nimport Header from \"../../components/Header/Header\";\r\nimport Filters from \"../../components/Filters/Filters\";\r\nimport Loader from \"../../components/Loader/Loader\";\r\nimport ProductList from \"../../components/ProductList/ProductList\";\r\nimport Pagination from \"../../components/Pagination/Pagination\";\r\nimport styles from \"./Catalog.module.css\";\r\n\r\nconst pagOpts = {\r\n  limit: 4,\r\n  defaultPage: 1,\r\n};\r\nlet params = {};\r\n\r\nexport default function Catalog() {\r\n  const [page, setPage] = useState(pagOpts.defaultPage);\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  const filteredCampers = useSelector(selectFilteredCampers);\r\n  const error = useSelector(selectError);\r\n  const loading = useSelector(selectIsLoading);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    params = {};\r\n    for (const [key, value] of searchParams.entries()) {\r\n      key !== \"equipment\"\r\n        ? (params[key] = value)\r\n        : params.equipment\r\n        ? params.equipment.push(value)\r\n        : (params.equipment = [value]);\r\n    }\r\n    dispatch(fetchAllCampers());\r\n    dispatch(filter({ ...params }));\r\n  }, [searchParams, dispatch]);\r\n\r\n  return (\r\n    <div className={styles.pageContainer}>\r\n      <Header />\r\n      <main className={styles.mainContent}>\r\n        <div className={styles.contentWrapper}>\r\n          <section className={styles.sideBar}>\r\n            <h2>Filters</h2>\r\n            <Filters\r\n              createSearchParams={setSearchParams}\r\n              onPageChange={setPage}\r\n            />\r\n          </section>\r\n          <section className={styles.contentSpace}>\r\n            {loading && !error ? (\r\n              <Loader />\r\n            ) : (\r\n              <>\r\n                <h2 className={styles.contentTitle}>\r\n                  {filteredCampers.length}&#160;campers available\r\n                </h2>\r\n                <div className={styles.content}>\r\n                  <ProductList\r\n                    campers={filteredCampers.slice(\r\n                      page * pagOpts.limit - pagOpts.limit,\r\n                      page * pagOpts.limit\r\n                    )}\r\n                  />\r\n                  <Pagination\r\n                    pages={Math.ceil(filteredCampers.length / pagOpts.limit)}\r\n                    currentPage={page}\r\n                    onPageChange={setPage}\r\n                  />\r\n                </div>\r\n              </>\r\n            )}\r\n          </section>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["pagOpts","limit","defaultPage","params","Catalog","page","setPage","useState","searchParams","setSearchParams","useSearchParams","filteredCampers","useSelector","selectFilteredCampers","error","selectError","loading","selectIsLoading","dispatch","useDispatch","useEffect","key","value","entries","equipment","push","fetchAllCampers","filter","_jsxs","className","styles","pageContainer","children","_jsx","Header","mainContent","contentWrapper","sideBar","Filters","createSearchParams","onPageChange","contentSpace","Loader","_Fragment","contentTitle","length","content","ProductList","campers","slice","Pagination","pages","Math","ceil","currentPage"],"sourceRoot":""}