{"version":3,"file":"static/js/940.b846af95.chunk.js","mappings":"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","sources":["webpack://camper-rental/./src/pages/Favorites/Favorites.module.css?54b5","pages/Favorites/Favorites.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"pageContainer\":\"Favorites_pageContainer__7he0m\",\"mainContent\":\"Favorites_mainContent__vtK3D\",\"contentWrapper\":\"Favorites_contentWrapper__mplJf\",\"sideBar\":\"Favorites_sideBar__jzleQ\",\"contentSpace\":\"Favorites_contentSpace__hnjCO\",\"content\":\"Favorites_content__rXpSa\"};","import { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useSearchParams } from \"react-router-dom\";\r\nimport {\r\n  selectFilteredCampers,\r\n  selectIsLoading,\r\n  selectError,\r\n  selectCurrentUser,\r\n} from \"../../redux/selectors\";\r\nimport { filter } from \"../../redux/appSlice\";\r\nimport { fetchAllCampers } from \"../../redux/operations\";\r\nimport Loader from \"../../components/Loader/Loader\";\r\nimport Header from \"../../components/Header/Header\";\r\nimport Filters from \"../../components/Filters/Filters\";\r\nimport ProductList from \"../../components/ProductList/ProductList\";\r\nimport Pagination from \"../../components/Pagination/Pagination\";\r\nimport styles from \"./Favorites.module.css\";\r\n\r\nconst pagOpts = {\r\n  limit: 4,\r\n  defaultPage: 1,\r\n};\r\n\r\nlet params = {};\r\n\r\nexport default function Favorites() {\r\n  const [page, setPage] = useState(pagOpts.defaultPage);\r\n  const [searchParams, setSearchParams] = useSearchParams();\r\n  const filteredCampers = useSelector(selectFilteredCampers);\r\n  const user = useSelector(selectCurrentUser);\r\n  const isLoading = useSelector(selectIsLoading);\r\n  const error = useSelector(selectError);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    params = {};\r\n    for (const [key, value] of searchParams.entries()) {\r\n      key !== \"equipment\"\r\n        ? (params[key] = value)\r\n        : params.equipment\r\n        ? params.equipment.push(value)\r\n        : (params.equipment = [value]);\r\n    }\r\n    dispatch(fetchAllCampers());\r\n    dispatch(filter({ ...params }));\r\n  }, [searchParams, dispatch]);\r\n\r\n  return (\r\n    <div className={styles.pageContainer}>\r\n      <Header />\r\n      <main className={styles.mainContent}>\r\n        <div className={styles.contentWrapper}>\r\n          <section className={styles.sideBar}>\r\n            <h2>Filters</h2>\r\n            <Filters\r\n              createSearchParams={setSearchParams}\r\n              onPageChange={setPage}\r\n            />\r\n          </section>\r\n          <section className={styles.contentSpace}>\r\n            {isLoading && !error ? (\r\n              <Loader />\r\n            ) : (\r\n              <>\r\n                {user?.favorites?.length <= 0 ? (\r\n                  <p>You have no favorite camper</p>\r\n                ) : (\r\n                  <>\r\n                    <h2 className={styles.contentTitle}>\r\n                      {\r\n                        filteredCampers.filter((camper) =>\r\n                          user?.favorites?.includes(camper.id)\r\n                        ).length\r\n                      }\r\n                      &#160;campers available\r\n                    </h2>\r\n                    <div className={styles.content}>\r\n                      <ProductList\r\n                        campers={filteredCampers\r\n                          .filter((camper) =>\r\n                            user?.favorites?.includes(camper.id)\r\n                          )\r\n                          .slice(\r\n                            page * pagOpts.limit - pagOpts.limit,\r\n                            page * pagOpts.limit\r\n                          )}\r\n                      />\r\n                      <Pagination\r\n                        pages={Math.ceil(\r\n                          filteredCampers.filter((camper) =>\r\n                            user?.favorites?.includes(camper.id)\r\n                          ).length / pagOpts.limit\r\n                        )}\r\n                        currentPage={page}\r\n                        onPageChange={setPage}\r\n                      />\r\n                    </div>\r\n                  </>\r\n                )}\r\n              </>\r\n            )}\r\n          </section>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["pagOpts","limit","defaultPage","params","Favorites","_user$favorites","page","setPage","useState","searchParams","setSearchParams","useSearchParams","filteredCampers","useSelector","selectFilteredCampers","user","selectCurrentUser","isLoading","selectIsLoading","error","selectError","dispatch","useDispatch","useEffect","key","value","entries","equipment","push","fetchAllCampers","filter","_jsxs","className","styles","pageContainer","children","_jsx","Header","mainContent","contentWrapper","sideBar","Filters","createSearchParams","onPageChange","contentSpace","Loader","_Fragment","favorites","length","contentTitle","camper","_user$favorites2","includes","id","content","ProductList","campers","_user$favorites3","slice","Pagination","pages","Math","ceil","_user$favorites4","currentPage"],"sourceRoot":""}